<settings>
  <routes>

    <cat_facts>
      <url>https://catfact.ninja/fact</url>
      <excluded_headers>x-api-key,host</excluded_headers>
    </cat_facts>

    <hello_world_routed>
      <url>https://localhost:7054/hello_world</url>
      <excluded_headers>x-api-key,host</excluded_headers>
      <ignore_target_route_certificate_errors>true</ignore_target_route_certificate_errors>
    </hello_world_routed>

    <!-- 
    adds API Keys protection to to the unprotected `catfact.ninja/fact` API
    before routing
    -->
    <locally_protected_cat_facts>
      <api_keys_collections>external_vendors,internal_solutions</api_keys_collections>

      <url>https://catfact.ninja/fact</url>
      <excluded_headers>x-api-key,host</excluded_headers>

    </locally_protected_cat_facts>

    <!-- 
    calls the already protected `protected_hello_world` API and passes the `x-api-key`
    coming from the client request back to the API without doing 
    any API keys protection of its own upfront and relying
    on the protection of the `protected_hello_world` API
    -->
    <remote_protected_hello_world_routed>
      
      <url>https://localhost:7054/protected_hello_world</url>
      <excluded_headers>host</excluded_headers>
      <ignore_target_route_certificate_errors>true</ignore_target_route_certificate_errors>
      <applied_headers>
        <header>
          <name>x-api-key</name>
          <value>api key 1</value>
        </header>
      </applied_headers>
    </remote_protected_hello_world_routed>


    <!-- 
    callers to this API will use the path `cat/facts` (e.g., https://localhost:7054/cat/facts)
    will get routed to the `https://catfact.ninja/fact` API.
    -->
    <cat_facts_custom_path_example>
      <route>cat/facts/list</route>
      <url>https://catfact.ninja/fact</url>
      <excluded_headers>x-api-key,host</excluded_headers>
    </cat_facts_custom_path_example>


    <cat_facts_wildcard_path_example>
      <route>cat/*</route>
      <url>https://catfact.ninja/</url>
      <excluded_headers>x-api-key,host</excluded_headers>
    </cat_facts_wildcard_path_example>



    <hello_world_loopback>
      <route>loopback/hello_world</route>
      <url>https://localhost:7054/hello_world</url>
      <excluded_headers>x-api-key,host</excluded_headers>
    </hello_world_loopback>

    <hello_world_loopback_with_cache>
      <route>loopback/hello_world_with_cache</route>
      <url>https://localhost:7054/hello_world</url>
      <excluded_headers>x-api-key,host</excluded_headers>

      <cache>
        <memory>
          <duration_in_milliseconds>20000</duration_in_milliseconds>
          <invalidators>name</invalidators>
        </memory>
      </cache>
    </hello_world_loopback_with_cache>



  </routes>
</settings>